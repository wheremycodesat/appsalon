let dictObj,pagina=1;document.addEventListener("DOMContentLoaded",()=>{dictObj=1===window.location.href.split("#").length?"es":window.location.href.split("#")[1]});const cita={nombre:"",fecha:"",hora:"",servicios:[]};function iniciarApp(){mostrarServicios(),mostrarSeccion(),cambiarSeccion(),paginaSiguiente(),paginaAnterior(),botonesPaginador(),mostrarResumen(),nombreCita(),fechaCita(),deshabilitarFechaAnterior(),horaCita(),limpiarCampos()}async function mostrarServicios(){try{const e=await fetch("./servicios.json"),t=await e.json(),{servicios:o}=t;o.forEach(e=>{const{id:t,nombre:o,precio:n}=e,a=document.querySelector(".listado-servicios"),i=document.createElement("DIV");i.classList.add("servicio"),i.onclick=seleccionarServicio,i.dataset.idServicio=t;const r=document.createElement("P");r.textContent=lang[""+dictObj][""+o],r.classList.add("nombre-servicio");const c=document.createElement("P");c.textContent="$ "+n,c.classList.add("precio-servicio"),i.appendChild(r),i.appendChild(c),a.appendChild(i)})}catch(e){console.log(e)}}function seleccionarServicio(e){let t;if(t="P"===e.target.tagName?e.target.parentElement:e.target,t.classList.contains("seleccionado")){t.classList.remove("seleccionado");eliminarServicio(parseInt(t.dataset.idServicio))}else{t.classList.add("seleccionado");agregarServicio({id:parseInt(t.dataset.idServicio),nombre:t.firstElementChild.textContent,precio:t.firstElementChild.nextElementSibling.textContent})}}function eliminarServicio(e){const{servicios:t}=cita;cita.servicios=t.filter(t=>t.id!==e)}function agregarServicio(e){const{servicios:t}=cita;cita.servicios=[...t,e]}function cambiarSeccion(){document.querySelectorAll(".tabs button").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),pagina=parseInt(e.target.dataset.paso),mostrarSeccion(),botonesPaginador()})})}function mostrarSeccion(){const e=document.querySelector(".mostrar-seccion");e&&e.classList.remove("mostrar-seccion");document.querySelector("#paso-"+pagina).classList.add("mostrar-seccion");const t=document.querySelector(".tabs .actual");t&&t.classList.remove("actual");document.querySelector(`[data-paso="${pagina}"]`).classList.add("actual")}function paginaSiguiente(){document.querySelector("#siguiente").addEventListener("click",()=>{pagina++,botonesPaginador()})}function paginaAnterior(){document.querySelector("#anterior").addEventListener("click",()=>{pagina--,botonesPaginador()})}function botonesPaginador(){const e=document.querySelector("#siguiente"),t=document.querySelector("#anterior");1==pagina?(t.classList.add("ocultar"),e.classList.remove("ocultar")):3===pagina?(e.classList.add("ocultar"),t.classList.remove("ocultar"),mostrarResumen()):(t.classList.remove("ocultar"),e.classList.remove("ocultar")),mostrarSeccion()}function mostrarResumen(){const{nombre:e,fecha:t,hora:o,servicios:n}=cita,a=document.querySelector(".contenido-resumen");for(;a.firstChild;)a.removeChild(a.firstChild);if(Object.values(cita).includes("")||0===cita.servicios.length){const e=document.createElement("P"),t=document.createElement("H2");return e.textContent=lang[""+dictObj].noservicios,t.textContent=lang[""+dictObj].resumen,e.classList.add("text-center"),e.classList.add("invalidar-cita"),a.appendChild(t),void a.appendChild(e)}const i=document.createElement("H3");i.id="resumencita",i.textContent=lang[""+dictObj][""+i.id];const r=document.createElement("P");r.innerHTML="<span>"+lang[""+dictObj].nombretexto+":</span> "+e;const c=document.createElement("P");c.innerHTML="<span>"+lang[""+dictObj].fechatexto+":</span> "+t;const s=document.createElement("P");s.innerHTML="<span>"+lang[""+dictObj].horatexto+":</span> "+o;const l=document.createElement("DIV");l.classList.add("resumen-servicios");const d=document.createElement("H3");d.id="resumenservicios",d.textContent=lang[""+dictObj][""+d.id],l.appendChild(d);let u=0;n.forEach(e=>{const{nombre:t,precio:o}=e,n=document.createElement("DIV");n.classList.add("contenedor-servicio");const a=document.createElement("P");a.textContent=t;const i=document.createElement("P");i.textContent=o,i.classList.add("precio");const r=o.split("$");u+=parseInt(r[1].trim()),n.appendChild(a),n.appendChild(i),l.appendChild(n)}),a.appendChild(i),a.appendChild(r),a.appendChild(c),a.appendChild(s),a.appendChild(l);const m=document.createElement("P");m.classList.add("total"),m.innerHTML="<span>"+lang[""+dictObj].totalpago+":</span> $ "+u,a.appendChild(m)}function nombreCita(){const e=document.querySelector("#nombre");e.placeholder=lang[""+dictObj].tunombre,e.addEventListener("input",e=>{const t=e.target.value.trim();if(""===t|t.length<3)mostrarAlerta(lang[""+dictObj].nombrenovalido,"error");else{const e=document.querySelector(".alerta");e&&e.remove(),cita.nombre=t}})}function fechaCita(){const e=document.querySelector("#fecha");e.addEventListener("input",t=>{const o=new Date(t.target.value).getUTCDay();[0,6].includes(o)?(t.preventDefault(),e.value="",mostrarAlerta(lang[""+dictObj].finesno,"error")):cita.fecha=e.value})}function horaCita(){const e=document.querySelector("#hora");e.addEventListener("input",t=>{const o=t.target.value,n=o.split(":");n[0]<10||n[0]>18?(mostrarAlerta(lang[""+dictObj].horanovalida,"error"),setTimeout(()=>{e.value=""},3e3)):cita.hora=o})}function mostrarAlerta(e,t){if(document.querySelector(".alerta"))return;const o=document.createElement("DIV");o.textContent=e,o.classList.add("alerta"),"error"===t&&o.classList.add("error"),document.querySelector(".formulario").appendChild(o),setTimeout(()=>{o.remove()},3e3)}function deshabilitarFechaAnterior(){let e;const t=document.querySelector("#fecha"),o=new Date,n=o.getFullYear(),a=o.getMonth()+1,i=o.getDate()+1;e=a<10?`${n}-0${a}-${i}`:`${n}-${a}-${i}`,t.min=e}function limpiarCampos(){document.querySelector("#nombre").value="",document.querySelector("#fecha").value="",document.querySelector("#hora").value=""}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));const icon=document.querySelector(".icon-tabler-world");icon.addEventListener("click",()=>{const e=document.querySelector(".languages");e.classList.contains("visual")?e.classList.remove("visual"):e.classList.add("visual")});const toggle=document.querySelector(".switch"),html=document.getElementsByTagName("html")[0];toggle.addEventListener("change",e=>{e.target.checked?(html.setAttribute("theme","dark-theme"),icon.setAttribute("stroke","#ffffff")):(html.setAttribute("theme","light-theme"),icon.setAttribute("stroke","#000000"))});let dataReload=document.querySelectorAll(".reload"),lang={es:{espanol:"Español",ingles:"Inglés",frances:"Francés",heading:"App Peluquería",servicios:"Servicios",infocliente:"Información Cliente",resumen:"Resumen",resumencita:"Resumen de Cita",resumenservicios:"Resumen de Servicios",elegirservicios:"Elige tus servicios a continuación",tusdatosycita:"Tus Datos y Cita",colocadatos:"Coloca tus datos y fecha de tu cita",corteadulto:"Corte de Cabello Adulto",cortenino:"Corte de Cabello Niño",cortemujer:"Corte de Cabello Mujer",cortebarba:"Corte de Barba",peinadohombre:"Peinado Hombre",peinadomujer:"Peinado Mujer",tinte:"Tinte de cabello",manicura:"Manicura",lavado:"Lavado de Cabello",capilar:"Tratamiento Capilar",nombretexto:"Nombre",tunombre:"Tu nombre",fechatexto:"Fecha",horatexto:"Hora",noservicios:"Faltan datos de servicios, hora, fecha o nombre",totalpago:"Total a pagar",ant:"Anterior",sig:"Siguiente",nombrenovalido:"Nombre no válido",finesno:"Fines de semana no son permitidos",horanovalida:"Hora no válida"},eng:{espanol:"Spanish",ingles:"English",frances:"French",heading:"Hairdressing App",servicios:"Services",infocliente:"Client's information",resumen:"Summary",resumencita:"Appoinment's summary",resumenservicios:"Service's summary",elegirservicios:"Choose the following services",tusdatosycita:"Your information and appoinment",colocadatos:"Write your name and the appoinment's date",corteadulto:"Men's haircut",cortenino:"Children's haircut",cortemujer:"Women's haircut",cortebarba:"Beard shaving",peinadohombre:"Men's hairstyling",peinadomujer:"Women's hairstyling",tinte:"Hair dye",manicura:"Manicure",lavado:"Hair washing",capilar:"Capillary treatment",nombretexto:"Name",tunombre:"Your name",fechatexto:"Date",horatexto:"Hour",noservicios:"Services, hour, date or name information is missing",totalpago:"Total to pay",ant:"Previous",sig:"Next",nombrenovalido:"Name is not valid",finesno:"Weekends are not allowed",horanovalida:"The hour is not valid"},fr:{espanol:"Espanol",ingles:"Anglais",frances:"Français",heading:"Application de coiffure",servicios:"Prestations de service",infocliente:"Informations client",resumen:"Résumé",resumencita:"Résumé des citations",resumenservicios:"Résumé des services",elegirservicios:"Choisissez vos services ci-dessous ",tusdatosycita:"Vos données et rendez-vous",colocadatos:"Entrez vos informations et la date de votre rendez-vous",corteadulto:"Coupe de cheveux adulte",cortenino:"Coupe de cheveux garçon",cortemujer:"Coupe de cheveux femme",cortebarba:"Coupe de barbe",peinadohombre:"Coiffure Homme",peinadomujer:"Coiffure Femme",tinte:"Teinture pour les cheveux",manicura:"Manucure",lavado:"Shampooing",capilar:"Traitement capillaire",nombretexto:"Nom",tunombre:"Ton nom",fechatexto:"Date",horatexto:"Heure",noservicios:"Données de service, heure, date ou nom manquants",totalpago:"Total a payer",ant:"Précédent",sig:"Prochain",nombrenovalido:"Nom incorrect",finesno:"Les week-ends ne sont pas autorisés",horanovalida:"Heure invalide"}};const elements=document.querySelectorAll("body *");let translate=[];elements.forEach(e=>{e.id&&"paso-1"!==e.id&&"paso-2"!==e.id&&"paso-3"!==e.id&&"anterior"!==e.id&&"siguiente"!==e.id&&(translate=[...translate,e.id])}),translate.forEach(e=>{window.location.href.includes("#eng")?document.querySelectorAll("#"+e).forEach(t=>{t.textContent=lang.eng[""+e]}):window.location.href.includes("#fr")?document.querySelectorAll("#"+e).forEach(t=>{t.textContent=lang.fr[""+e]}):document.querySelectorAll("#"+e).forEach(t=>{t.textContent=lang.es[""+e]})}),dataReload.forEach(e=>{e.onclick=function(){setTimeout(()=>{window.location.reload()},500)}});
//# sourceMappingURL=bundle.js.map
